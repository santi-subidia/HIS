extends ../layout

block content
  .container
    h2.mb-4.text-danger
      i.fas.fa-triangle-exclamation.me-2
      | Internación de Emergencia

    p.text-muted.mb-4
      i.fas.fa-info-circle.me-1
      | Solo se requiere sexo y ubicación. Los demás datos se completarán luego.

    if mensaje
      if mensaje.includes('exitosamente') || mensaje.includes('éxito')
        .alert.alert-success
          i.fas.fa-check-circle.me-2
          = mensaje
      else
        .alert.alert-danger
          i.fas.fa-exclamation-triangle.me-2
          = mensaje

    .card.shadow.mb-5
      .card-body
        form(method="POST", action="/internacion/create/emergencia")
          .row.mb-3
            .col-md-4
              label.form-label(for="sexoPaciente") Sexo del paciente
              select#sexoPaciente.form-select(name="sexo" required)
                option(value="") Seleccione...
                option(value="Masculino") Masculino
                option(value="Femenino") Femenino

          .row.mb-3
            .col-md-12
              label.form-label(for="detalleMotivo") 
                | Detalle del Motivo
                span.text-danger *
              textarea#detalleMotivo.form-control(
                name="detalle_motivo"
                rows="4"
                placeholder="Describa el motivo de la internación de emergencia (síntomas, condición, situación...)"
                required
                maxlength="1000"
              )
              .form-text Máximo 1000 caracteres

          hr

          .row.mb-3
            .col-md-3
              label.form-label(for="sector") Sector
              select#sector.form-select(name="sector" required)
                option(value="") Seleccione...
                each sector in sectores
                  option(value=sector.id)= sector.nombre

            .col-md-3
              label.form-label(for="ala") Ala
              select#ala.form-select(name="ala" required disabled)
                option(value="") Seleccione...

            .col-md-3
              label.form-label(for="habitacion") Habitación
              select#habitacion.form-select(name="habitacion" required disabled)
                option(value="") Seleccione...

            .col-md-3
              label.form-label(for="cama") Cama
              select#cama.form-select(name="cama" required disabled)
                option(value="") Seleccione...

          .row.mt-4
            .col-12.d-flex.justify-content-end
              button.btn.btn-danger.btn-lg(type="submit")
                i.fas.fa-triangle-exclamation.me-2
                | Internar de Emergencia

    script(src="/scripts/internacion-paciente.js")