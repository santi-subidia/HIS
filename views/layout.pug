
doctype html
html(lang="es")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title #{title || 'HSI'}
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css")
    style.
      .dropdown-submenu {
        position: relative;
      }
      .dropdown-submenu .dropdown-menu {
        top: 0;
        left: 100%;
        margin-left: 0.1rem;
        margin-top: -0.25rem;
      }
      .dropdown:hover > .dropdown-menu {
        display: block;
      }
      .dropdown-submenu:hover > .dropdown-menu {
        display: block;
      }

  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-primary.mb-4
      .container-fluid
        a.navbar-brand(href="/") HIS
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        .collapse.navbar-collapse#navbarNav
          .d-flex.w-100.justify-content-between.align-items-center
            ul.navbar-nav.me-auto
              li.nav-item.dropdown
                a.nav-link.dropdown-toggle(href="#" role="button" data-bs-toggle="dropdown") Admisión y Recepción
                ul.dropdown-menu
                  // Pacientes
                  li.dropdown-submenu
                    a.dropdown-item.dropdown-toggle(href="#") Pacientes
                    ul.dropdown-menu
                      li
                        a.dropdown-item(href="/pacientes") Lista de Pacientes
                      li
                        a.dropdown-item(href="/pacientes/registro") Registrar nuevo Paciente
                      li
                        a.dropdown-item(href="/pacientes/actualizar") Actualizar Paciente
                  // Internación
                  li.dropdown-submenu
                    a.dropdown-item.dropdown-toggle(href="#") Internación
                    ul.dropdown-menu
                      li
                        a.dropdown-item(href="/internacion") Lista de Internaciones
                      li
                        a.dropdown-item(href="/internacion/registro") Internacion de Paciente
                  // Turnos
                  li.dropdown-submenu
                    a.dropdown-item.dropdown-toggle(href="#") Turnos
                    ul.dropdown-menu
                      li
                        a.dropdown-item(href="/turnos/listar") Listar turnos
                      li
                        a.dropdown-item(href="/turnos/registrar") Crear turno
                  // Habitaciones
                  li.dropdown-submenu
                    a.dropdown-item.dropdown-toggle(href="#") Habitaciones
                    ul.dropdown-menu
                      li
                        a.dropdown-item(href="/habitacion/listar") Gestión de Habitaciones
                  li
                    a.dropdown-item.bg-danger.text-white(href="/internacion/emergencias") Emergencia
            ul.navbar-nav.ms-auto
              if currentUser
                li.nav-item.dropdown
                  a.nav-link.dropdown-toggle.text-light(href="#" role="button" data-bs-toggle="dropdown")
                    i.fas.fa-user.me-1
                    | #{currentUser.persona.nombre} #{currentUser.persona.apellido}
                    span.badge.bg-info.ms-2 #{currentUser.usuario.rol.nombre}
                  ul.dropdown-menu.dropdown-menu-end
                    li
                      span.dropdown-item.disabled
                        i.fas.fa-id-card.me-1
                        | Usuario: #{currentUser.usuario.usuario}
                    li
                      span.dropdown-item.disabled
                        i.fas.fa-user-tag.me-1
                        | Rol: #{currentUser.usuario.rol.nombre}
                    li
                      hr.dropdown-divider
                    li
                      a.dropdown-item.text-danger(href="/logout")
                        i.fas.fa-sign-out-alt.me-1
                        | Cerrar sesión
              else
                li.nav-item
                  a.btn.btn-outline-light.ms-2(href="/login")
                    i.fas.fa-sign-in-alt.me-1
                    | Iniciar sesión

    .container
      block content

    block scripts
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
